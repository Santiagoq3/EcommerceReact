(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{39:function(e,t,c){},42:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var n=c(6),a=c.n(n),r=c(32),i=c.n(r),s=(c(39),c(0)),o=c.n(s),j=c(3),l=c(9),d=c(12),b=c(33),u=c(14),m=Object(b.a)({apiKey:"AIzaSyD-a45cY0rZ7s1AkCCQnRHqLUXNU33rMrs",authDomain:"react-ecommerce-coder-99513.firebaseapp.com",projectId:"react-ecommerce-coder-99513",storageBucket:"react-ecommerce-coder-99513.appspot.com",messagingSenderId:"904903918940",appId:"1:904903918940:web:90b47843c7288b8010ed99"}),O=Object(u.d)(m),h=(c(42),c(4)),x=function(e){var t=e.onAdd,c=Object(n.useState)(1),a=Object(l.a)(c,2),r=a[0],i=a[1];return Object(h.jsxs)("div",{className:"contador",children:[Object(h.jsxs)("div",{className:"contador__display",children:[Object(h.jsx)("i",{onClick:function(){i(1===r?1:r-1)},className:"fas fa-minus"}),Object(h.jsx)("p",{children:r}),Object(h.jsx)("i",{onClick:function(){i(r+1)},className:"fas fa-plus"})]}),Object(h.jsx)("button",{className:"contador__button",onClick:function(){return t(r)},children:"Agregar al carrito"})]})},f=c(13),p=(c(44),function(e){var t=e.producto,c=t.nombre,n=t.precio,a=t.img,r=t.id;return Object(h.jsxs)("div",{className:"item",children:[Object(h.jsx)("div",{className:"item__container-img",children:Object(h.jsx)("img",{src:a,className:"item_img"})}),Object(h.jsxs)(f.b,{to:"/item/".concat(r),className:"item__card",children:[Object(h.jsx)("p",{className:"item__card__product-title",children:c}),Object(h.jsxs)("p",{className:"item__card__product-price",children:["$ ",n]})]})]})}),v=(c(45),function(e){var t=e.Productos,c=t.data,n=t.loading;return Object(h.jsx)("div",{className:"itemlist",children:n?Object(h.jsx)("p",{children:"cargando..."}):c.map((function(e){return Object(h.jsx)(p,{producto:e})}))})}),g=(c(46),function(e){var t=e.greeting,c=Object(n.useState)({data:[],loading:!0}),a=Object(l.a)(c,2),r=a[0],i=a[1],s=Object(d.g)().id,b="";s&&(b=s.replace(":","")),Object(n.useEffect)((function(){m(s,b)}),[s]);var m=function(){var e=Object(j.a)(o.a.mark((function e(t,c){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(n=Object(u.e)(Object(u.b)(O,"items"),Object(u.f)("categoria","==",t)),Object(u.c)(n).then((function(e){return i({data:e.docs.map((function(e){return e.data()})),loading:!1})})).catch((function(e){return console.log(e)}))):(a=Object(u.e)(Object(u.b)(O,"items")),Object(u.c)(a).then((function(e){return i({data:e.docs.map((function(e){return e.data()})),loading:!1})})).catch((function(e){return console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"ItemListContainer",children:[Object(h.jsxs)("p",{className:"ItemListContainer__greeting",children:[t," \u2728 \u2728"]}),Object(h.jsx)(v,{Productos:r})]})}),_=c(19),N=a.a.createContext({}),C=N.Provider,y=function(e){var t=e.children,c=Object(n.useState)([]),a=Object(l.a)(c,2),r=a[0],i=a[1],s=Object(n.useState)(0),o=Object(l.a)(s,2),j=o[0],d=o[1],b=Object(n.useState)(!1),u=Object(l.a)(b,2),m=u[0],O=u[1];Object(n.useEffect)((function(){x()}),[r]);var x=function(){var e=0;r.map((function(t){e+=t.item.precio*t.quantity,d(e)}))},f=function(e){return r.some((function(t){return t.item.id===e.id}))};return Object(h.jsx)(C,{value:{Cart:r,addItem:function(e,t){f(e)?(O(!0),setTimeout((function(){O(!1)}),3e3)):i([].concat(Object(_.a)(r),[{item:e,quantity:t}]))},removeItem:function(e){i(r.filter((function(t){return t.item._id!==e})))},clear:function(){i([])},total:j,yaexiste:m},children:t})},S=(c(47),function(){var e=Object(n.useContext)(N),t=e.Cart,c=e.removeItem,a=e.total;return console.log(t),Object(h.jsxs)("div",{className:"cart",children:[Object(h.jsx)("h1",{children:"Shopping Cart"}),t.length>0?Object(h.jsxs)("ul",{children:[t.map((function(e){return Object(h.jsxs)("li",{className:"cart_container",children:[Object(h.jsxs)("div",{className:"cart_container-top",children:[Object(h.jsx)("p",{className:"cart_item-nombre",children:e.item.nombre}),Object(h.jsxs)("p",{children:["$ ",e.item.precio]})]}),Object(h.jsxs)("p",{children:["descripcion: ",e.item.descripcion]}),Object(h.jsxs)("div",{className:"cart_container-bottom",children:[Object(h.jsxs)("p",{children:["Cantidad: ",e.quantity]}),Object(h.jsx)("button",{onClick:function(){return c(e.item._id)},children:"Remove"})]})]})})),Object(h.jsxs)("div",{className:"cart_comprar",children:[Object(h.jsxs)("div",{className:"cart_comprar_total",children:[Object(h.jsx)("p",{children:"Total"}),Object(h.jsxs)("p",{children:["$ ",a]})]}),Object(h.jsx)("button",{className:"cart_btn-comprar",children:Object(h.jsx)(f.b,{to:"/checkout",children:"Generar orden"})}),Object(h.jsx)(f.b,{to:"/",className:"cart_continuar-comprando",children:Object(h.jsx)("p",{children:"o Continuar Comprando"})})]})]}):Object(h.jsxs)("div",{className:"cart_vacio",children:[Object(h.jsx)("p",{children:"No hay productos en el carrito"}),Object(h.jsx)(f.b,{to:"/",children:"Volver al home"})]})]})}),k=(c(48),c(10),function(){var e=Object(n.useContext)(N),t=e.Cart,c=e.clear,a=Object(n.useState)(!1),r=Object(l.a)(a,2),i=r[0],s=r[1],d=Object(n.useState)(""),b=Object(l.a)(d,2),m=b[0],x=b[1],f=Object(n.useState)(""),p=Object(l.a)(f,2),v=p[0],g=p[1],C=Object(n.useState)(""),y=Object(l.a)(C,2),S=y[0],k=y[1],I=Object(n.useState)(""),E=Object(l.a)(I,2),w=E[0],q=E[1],P=Object(_.a)(t);P=P.map((function(e){return{nombre:e.item.nombre,id:e.item.id,precio:e.item.precio}}));var B=function(){var e=Object(j.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)(Object(u.b)(O,"orders"),t);case 2:c=e.sent,x(c.id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"checkout",children:i?Object(h.jsx)("div",{children:""==m?Object(h.jsx)("p",{children:"Generando codigo de orden..."}):Object(h.jsxs)("p",{children:["Retire sus productos con el codigo : ",m]})}):Object(h.jsxs)(n.Fragment,{children:[Object(h.jsx)("h1",{children:"Informacion de contacto"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),B({buyer:{email:v,nombre:S,telefono:w},items:P}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),s(!0),c()},children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{type:"email",name:"email",value:v,onChange:function(e){return g(e.target.value)},autoFocus:!0,required:!0}),Object(h.jsx)("label",{children:"Nombre"}),Object(h.jsx)("input",{type:"text",name:"nombre",value:S,onChange:function(e){return k(e.target.value)},required:!0}),Object(h.jsx)("label",{children:"Telefono"}),Object(h.jsx)("input",{type:"text",name:"telefono",value:w,onChange:function(e){return q(e.target.value)},required:!0}),Object(h.jsx)("button",{type:"submit",children:"Confirmar orden"})]})]})})}),I=(c(49),function(e){var t=e.Productos,c=t.data,a=t.loading,r=Object(l.a)(c,1)[0],i=Object(n.useContext)(N),s=i.addItem,o=(i.Cart,i.yaexiste);return Object(h.jsxs)("div",{className:"itemdetail",children:[!a&&Object(h.jsx)("div",{className:"itemdetail__container-img",children:Object(h.jsx)("img",{src:r.img})}),a?Object(h.jsx)("p",{children:"cargando..."}):Object(h.jsxs)("div",{className:"itemdetail__detail",children:[Object(h.jsxs)("div",{className:"itemdetail__detail-top",children:[Object(h.jsx)("h2",{children:r.nombre}),Object(h.jsxs)("p",{children:[r.precio,"$"]})]}),Object(h.jsx)("div",{className:"itemdetail__detail-middle",children:Object(h.jsx)(x,{onAdd:function(e){var c=t.data,n=(t.loading,Object(l.a)(c,1)[0]);s(n,e)}})}),Object(h.jsxs)("div",{className:"itemdetail__detail-bottom",children:[Object(h.jsx)("h2",{children:"Descripcion"}),Object(h.jsx)("p",{children:r.descripcion})]}),o&&Object(h.jsx)("p",{children:"El producto ya existe en el carrito"})]})]})}),E=(c(50),function(e){e.item;var t=Object(d.g)().id,c=Object(n.useState)({data:[],loading:!0}),a=Object(l.a)(c,2),r=a[0],i=a[1];Object(n.useEffect)((function(){s(t)}),[t]);var s=function(){var e=Object(j.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=Object(u.e)(Object(u.b)(O,"items"),Object(u.f)("id","==",t)),Object(u.c)(c).then((function(e){return i({data:e.docs.map((function(e){return e.data()})),loading:!1})})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsx)(I,{Productos:r})})}),w=(c(51),function(){return Object(h.jsx)("div",{className:"cartWidget",children:Object(h.jsx)("h1",{className:"nav__h1",children:Object(h.jsx)(f.b,{to:"/",children:"Logo"})})})}),q=(c(52),function(){var e=Object(n.useContext)(N).Cart;return Object(h.jsx)("header",{className:"header",children:Object(h.jsxs)("nav",{className:"nav",children:[Object(h.jsx)(w,{}),Object(h.jsxs)("ul",{className:"nav__ul",children:[Object(h.jsx)(f.b,{to:"/category/mujer",style:{color:"#4b5563"},children:"Mujeres"}),Object(h.jsx)(f.b,{to:"/category/hombre",style:{color:"#4b5563"},children:"Hombres"}),Object(h.jsx)(f.b,{to:"/category/ni\xf1o",style:{color:"#4b5563"},children:"Ni\xf1os"})]}),Object(h.jsxs)("div",{className:"nav__icons",children:[Object(h.jsx)(f.b,{to:"/cart",style:{color:"#4b5563"},children:Object(h.jsx)("i",{className:"fas fa-shopping-cart",children:Object(h.jsx)("span",{className:"header-cart-length",children:e.length})})}),Object(h.jsx)("i",{class:"fas fa-sign-out-alt"})]})]})})}),P=function(){return Object(h.jsxs)(f.a,{children:[Object(h.jsx)(q,{}),Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{exact:!0,path:"/",element:Object(h.jsx)(g,{greeting:"Este es mi catalog, Bienvenidos!!"})}),Object(h.jsx)(d.a,{exact:!0,path:"/EcommerceReact",element:Object(h.jsx)(g,{greeting:"Este es mi catalogo, Bienvenidos!!"})}),Object(h.jsx)(d.a,{exact:!0,path:"/category/:id",element:Object(h.jsx)(g,{greeting:"Este es mi categoria, Bienvenidos!!"})}),Object(h.jsx)(d.a,{exact:!0,path:"/item/:id",element:Object(h.jsx)(E,{})}),Object(h.jsx)(d.a,{exact:!0,path:"/cart",element:Object(h.jsx)(S,{})}),Object(h.jsx)(d.a,{exact:!0,path:"/checkout",element:Object(h.jsx)(k,{})})]})]})},B=function(){return Object(h.jsx)(y,{children:Object(h.jsx)(P,{})})},F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,54)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))};i.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(B,{})}),document.getElementById("root")),F()}},[[53,1,2]]]);
//# sourceMappingURL=main.062e5e5d.chunk.js.map